
<div class="products-section page-container">
  <h2 class="page-heading">Products</h2>
  <p class="info-badge">Items in cart: {{ cartService.itemCount() }}</p>

  <app-search-form (searchChange)="onSearchChange($event)"></app-search-form>

  @if (searchQuery()) {
    <p class="search-info">Searching for: "{{ searchQuery() }}"</p>
  }

  <div class="products-grid">
    @for (product of filteredProducts(); track product.id) {
      <app-product-card [product]="product" (addToCartEvent)="receiveAddToCart($event)"></app-product-card>
    }
  </div>

  @if (filteredProducts().length === 0) {
    <p class="no-results">No products found matching "{{ searchQuery() }}"</p>
  }
</div>